#!/bin/sh
#
# ~/.xinitrc
#
# Executed by startx (run your window manager from here)

if [ -d /etc/X11/xinit/xinitrc.d ]; then
  for f in /etc/X11/xinit/xinitrc.d/*; do
    [ -x "$f" ] && . "$f"
  done
  unset f
fi

# force numlock on during start
numlockx & 

# make sure xrdb has the most up-to-date settings
xrdb ~/.Xresources

# need to manually start pulseaudio
pulseaudio --start

# start xautlock to call slock after 10 minutes of inactivity OR if the mouse is
# left in the bottom-right corner for 3 seconds
# -corners -000 means DON'T lock if the mouse is in the upper-left corner...
xautolock -time 10 -locker $HOME/bin/pixellock -nowlocker $HOME/bin/pixellock -detectsleep -corners -000 -cornerdelay 3 &

# other incidentals
dropbox &
xbindkeys

if [ -e ~/.screenlayout.sh ]; then
  ~/.screenlayout.sh
fi

if [ -e ~/.xinitrc.local ]; then
  . ~/.xinitrc.local
fi

# DO THIS AT THE END: fire up window manager
exec ssh-agent i3
